<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Control de LED</title>
</head>
<body>
    <h1>Control de LED</h1>

    <button onclick="encenderLed()">Encender LED</button>
    <button onclick="apagarLed()">Apagar LED</button>

    <script>
        function encenderLed() {
            // Crear instancia del cliente MQTT
            var client = new Paho.MQTT.Client("104.154.170.98", 1883, "clientId");

            // Configurar las credenciales de autenticación
            client.username = "diegomolina";
            client.password = "diegomolina";

            // Conectar al broker MQTT
            client.connect({
                onSuccess: function() {
                    console.log("Conectado al broker MQTT");

                    // Publicar mensaje para encender el LED
                    var message = new Paho.MQTT.Message("Encender LED");
                    message.destinationName = "led_topic";
                    client.send(message);

                    // Desconectar del broker MQTT
                    client.disconnect();
                }
            });
        }

        function apagarLed() {
            // Crear instancia del cliente MQTT
            var client = new Paho.MQTT.Client("104.154.170.98", 1883, "clientId");

            // Configurar las credenciales de autenticación
            client.username = "diegomolina";
            client.password = "diegomolina";

            // Conectar al broker MQTT
            client.connect({
                onSuccess: function() {
                    console.log("Conectado al broker MQTT");

                    // Publicar mensaje para apagar el LED
                    var message = new Paho.MQTT.Message("Apagar LED");
                    message.destinationName = "led_topic";
                    client.send(message);

                    // Desconectar del broker MQTT
                    client.disconnect();
                }
            });
        }
    </script>
</body>
</html>
